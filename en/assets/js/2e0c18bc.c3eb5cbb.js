"use strict";(self.webpackChunkfacturapi_docs=self.webpackChunkfacturapi_docs||[]).push([["1743"],{2718:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>s,default:()=>h,toc:()=>d,metadata:()=>r,assets:()=>u,contentTitle:()=>l});var r=JSON.parse('{"id":"guides/receipts","title":"E-Receipts","description":"An e-receipt is the digital version of a ticket or sales receipt. It is a payment","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/guides/receipts.mdx","sourceDirName":"guides","slug":"/guides/receipts","permalink":"/en/docs/guides/receipts","draft":false,"unlisted":false,"editUrl":"https://github.com/facturapi/facturapi-docs/edit/main/website/docs/guides/receipts.mdx","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Organizations (Multi-RFC)","permalink":"/en/docs/guides/organizations"},"next":{"title":"Self-Invoicing","permalink":"/en/docs/guides/self-invoice"}}'),i=t(5893),a=t(65),o=t(7902),c=t(5525);let s={sidebar_position:7},l="E-Receipts",u={},d=[{value:"Create a receipt",id:"create-a-receipt",level:2},{value:"Self-invoice portal",id:"self-invoice-portal",level:2},{value:"Convert an e-receipt into an invoice",id:"convert-an-e-receipt-into-an-invoice",level:2}];function p(e){let n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"e-receipts",children:"E-Receipts"})}),"\n",(0,i.jsxs)(n.p,{children:["An ",(0,i.jsx)(n.strong,{children:"e-receipt"})," is the digital version of a ",(0,i.jsx)(n.em,{children:"ticket"})," or ",(0,i.jsx)(n.em,{children:"sales receipt"}),". It is a payment\nvoucher that you can give to your customer without requesting their tax information.\nThis voucher includes all the sales information so that it can be invoiced if the\ncustomer requests it or alternatively can be included in a global invoice at the end of\nthe month."]}),"\n",(0,i.jsxs)(n.p,{children:["By creating a ",(0,i.jsx)(n.strong,{children:"digital receipt"})," in Facturapi, your customers will have access to a\nwebsite where they can fill in their tax information and download their invoice\n(self-invoice portal)."]}),"\n",(0,i.jsx)(n.p,{children:"You can also create a global invoice at the end of the month that includes all those\nreceipts that were not invoiced (known as global invoice)."}),"\n",(0,i.jsx)(n.h2,{id:"create-a-receipt",children:"Create a receipt"}),"\n",(0,i.jsxs)(n.p,{children:["To see the descriptions of all the parameters, consult the complete reference of the\nmethod ",(0,i.jsx)(n.a,{href:"/api/#tag/receipt/operation/createReceipt",children:"Create Receipt"}),"."]}),"\n",(0,i.jsxs)(o.Z,{groupId:"codeExamples",children:[(0,i.jsx)(c.Z,{value:"js",label:"Node.js",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const facturapi = new Facturapi('sk_test_API_KEY');\nconst receipt = await facturapi.receipts.create({\n  folio_number: 1234,\n  payment_form: Facturapi.PaymentForm.DINERO_ELECTRONICO,\n  items: [{\n    quantity: 1,\n    product: {\n      description: 'Ukelele',\n      product_key: '60131324',\n      price: 345.60,\n      sku: 'ABC1234'\n    }\n  }]\n});\n"})})}),(0,i.jsx)(c.Z,{value:"cs",label:"C#",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'var facturapi = new FacturapiClient("sk_test_API_KEY");\nvar receipt = await facturapi.Receipt.CreateAsync(new Dictionary<string, object>\n{\n  ["folio_number"] = 1234,\n  ["payment_form"] = Facturapi.PaymentForm.DINERO_ELECTRONICO,\n  ["items"] = new Dictionary<string, object>[]\n  {\n    new Dictionary<string, object>\n    {\n      ["description"] = "Ukelele",\n      ["product_key"] = "60131324",\n      ["price"] = 345.60,\n      ["sku"] = "ABC1234"\n    }\n  }\n});\n'})})}),(0,i.jsx)(c.Z,{value:"php",label:"PHP",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:'$facturapi = new Facturapi("sk_test_API_KEY");\n\n$receipt = $facturapi->Receipts->create([\n  "folio_number" => 1234,\n  "payment_form" => "03",\n  "items" => [\n    [\n      "description" => "Ukelele",\n      "product_key" => "60131324",\n      "price" => 345.60,\n      "sku" => "ABC1234"\n    ]\n  ]\n]);\n'})})}),(0,i.jsx)(c.Z,{value:"curl",label:"cURL",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl https://www.facturapi.io/v1/receipts \\\n  -H "Authorization: Bearer sk_test_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n        "folio_number": 1234,\n        "payment_form": "03",\n        "items": [{\n          "quantity": 1,\n          "product": {\n            "description": "Ukelele",\n            "product_key": "60131324",\n            "price": 345.60,\n            "sku": "ABC1234"\n          }\n        }]\n      }\'\n'})})})]}),"\n",(0,i.jsx)(n.h2,{id:"self-invoice-portal",children:"Self-invoice portal"}),"\n",(0,i.jsx)(n.p,{children:"When you create an e-receipt, you have the option to send it via email to your customer.\nThis email will contain a link to a self-invoice portal where your customer can fill in\ntheir tax information and download their invoice."}),"\n",(0,i.jsxs)(n.p,{children:["For more information, see the article on ",(0,i.jsx)(n.a,{href:"/docs/guides/self-invoice",children:"Self-Invoice"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"convert-an-e-receipt-into-an-invoice",children:"Convert an e-receipt into an invoice"}),"\n",(0,i.jsxs)(n.p,{children:["Por medio del m\xe9todo ",(0,i.jsx)(n.a,{href:"/api/#tag/receipt/operation/invoiceReceipt",children:"Facturar Recibo"})," puedes convertir\nun e-receipt en una factura. Para ello, debes enviar los datos del cliente y otros datos que\nno se solicitan al crear el recibo."]}),"\n",(0,i.jsxs)(o.Z,{groupId:"codeExamples",children:[(0,i.jsx)(c.Z,{value:"js",label:"Node.js",default:!0,children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"const invoice = await facturapi.receipts.invoice(receipt.id, {\n  customer: {\n    legal_name: 'Roger Watters',\n    tax_id: 'ROWA121212A11',\n    email: 'roger@pinkfloyd.com'\n  },\n  folio_number: 914,\n  series: 'F'\n});\n"})})}),(0,i.jsx)(c.Z,{value:"cs",label:"C#",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-csharp",children:'var invoice = await facturapi.Receipt.InvoiceAsync(receipt.Id, new Dictionary<string, object>\n{\n  ["customer"] = new Dictionary<string, object>\n  {\n    ["legal_name"] = "Roger Watters",\n    ["tax_id"] = "ROWA121212A11",\n    ["email"] = "roger@pinkfloyd.com"\n  },\n  ["folio_number"] = 914,\n  ["series"] = "F"\n});\n'})})}),(0,i.jsx)(c.Z,{value:"php",label:"PHP",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:'$invoice = $facturapi->Receipts->invoice($receipt->id, [\n  "customer" => [\n    "legal_name" => "Roger Watters",\n    "tax_id" => "ROWA121212A11",\n    "email" => "roger@pinkfloyd.com"\n  ],\n  "folio_number" => 914,\n  "series" => "F"\n]);\n'})})}),(0,i.jsx)(c.Z,{value:"curl",label:"cURL",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl https://www.facturapi.io/v1/receipts/5ebd8e56f5687a013ca0df46/invoice \\\n  -H "Authorization: Bearer sk_test_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n        "customer": {\n          "legal_name": "Roger Watters",\n          "tax_id": "ROWA121212A11",\n          "email": "roger@pinkfloyd.com"\n        },\n        "folio_number": 914,\n        "series": "F"\n    }\'\n'})})})]})]})}function h(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},5525:function(e,n,t){t.d(n,{Z:()=>a});var r=t(5893);t(7294);var i=t(7026);function a({children:e,hidden:n,className:t}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.Z)("tabItem_Ymn6",t),hidden:n,children:e})}},7902:function(e,n,t){t.d(n,{Z:()=>b});var r=t(5893),i=t(7294),a=t(7026),o=t(9599),c=t(6550),s=t(2e3),l=t(4520),u=t(8341),d=t(6009);function p(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h({value:e,tabValues:n}){return n.some(n=>n.value===e)}var f=t(7227);function m({className:e,block:n,selectedValue:t,selectValue:i,tabValues:c}){let s=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.o5)(),u=e=>{let n=e.currentTarget,r=c[s.indexOf(n)].value;r!==t&&(l(n),i(r))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{let t=s.indexOf(e.currentTarget)+1;n=s[t]??s[0];break}case"ArrowLeft":{let t=s.indexOf(e.currentTarget)-1;n=s[t]??s[s.length-1]}}n?.focus()};return(0,r.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":n},e),children:c.map(({value:e,label:n,attributes:i})=>(0,r.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{s.push(e)},onKeyDown:d,onClick:u,...i,className:(0,a.Z)("tabs__item","tabItem_LNqP",i?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function v({lazy:e,children:n,selectedValue:t}){let o=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){let e=o.find(e=>e.props.value===t);return e?(0,i.cloneElement)(e,{className:(0,a.Z)("margin-top--md",e.props.className)}):null}return(0,r.jsx)("div",{className:"margin-top--md",children:o.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function g(e){let n=function(e){let{defaultValue:n,queryString:t=!1,groupId:r}=e,a=function(e){let{values:n,children:t}=e;return(0,i.useMemo)(()=>{let e=n??p(t).map(({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r})),r=(0,u.lx)(e,(e,n)=>e.value===n.value);if(r.length>0)throw Error(`Docusaurus error: Duplicate values "${r.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[n,t])}(e),[o,f]=(0,i.useState)(()=>(function({defaultValue:e,tabValues:n}){if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!h({value:e,tabValues:n}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let t=n.find(e=>e.default)??n[0];if(!t)throw Error("Unexpected error: 0 tabValues");return t.value})({defaultValue:n,tabValues:a})),[m,v]=function({queryString:e=!1,groupId:n}){let t=(0,c.k6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l._X)(r),(0,i.useCallback)(e=>{if(!r)return;let n=new URLSearchParams(t.location.search);n.set(r,e),t.replace({...t.location,search:n.toString()})},[r,t])]}({queryString:t,groupId:r}),[g,b]=function({groupId:e}){let n=e?`docusaurus.tab.${e}`:null,[t,r]=(0,d.Nk)(n);return[t,(0,i.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),x=(()=>{let e=m??g;return h({value:e,tabValues:a})?e:null})();return(0,s.Z)(()=>{x&&f(x)},[x]),{selectedValue:o,selectValue:(0,i.useCallback)(e=>{if(!h({value:e,tabValues:a}))throw Error(`Can't select invalid tab value=${e}`);f(e),v(e),b(e)},[v,b,a]),tabValues:a}}(e);return(0,r.jsxs)("div",{className:(0,a.Z)("tabs-container","tabList__CuJ"),children:[(0,r.jsx)(m,{...n,...e}),(0,r.jsx)(v,{...n,...e})]})}function b(e){let n=(0,f.Z)();return(0,r.jsx)(g,{...e,children:p(e.children)},String(n))}},65:function(e,n,t){t.d(n,{Z:()=>c,a:()=>o});var r=t(7294);let i={},a=r.createContext(i);function o(e){let n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);