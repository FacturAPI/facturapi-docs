"use strict";(self.webpackChunkfacturapi_docs=self.webpackChunkfacturapi_docs||[]).push([[22],{3905:(e,a,t)=>{t.d(a,{Zo:()=>u,kt:()=>m});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=n.createContext({}),c=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},u=function(e){var a=c(e.components);return n.createElement(s.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(t),m=r,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return t?n.createElement(f,l(l({ref:a},u),{},{components:t})):n.createElement(f,l({ref:a},u))}));function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=d;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var c=2;c<o;c++)l[c]=t[c];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},5162:(e,a,t)=>{t.d(a,{Z:()=>l});var n=t(7294),r=t(6010);const o="tabItem_Ymn6";function l(e){let{children:a,hidden:t,className:l}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(o,l),hidden:t},a)}},4866:(e,a,t)=>{t.d(a,{Z:()=>N});var n=t(7462),r=t(7294),o=t(6010),l=t(6775),i=t(1980),s=t(7392),c=t(12);function u(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:a,label:t,attributes:n,default:r}}=e;return{value:a,label:t,attributes:n,default:r}}))}function p(e){const{values:a,children:t}=e;return(0,r.useMemo)((()=>{const e=a??u(t);return function(e){const a=(0,s.l)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,t])}function d(e){let{value:a,tabValues:t}=e;return t.some((e=>e.value===a))}function m(e){let{queryString:a=!1,groupId:t}=e;const n=(0,l.k6)(),o=function(e){let{queryString:a=!1,groupId:t}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:a,groupId:t});return[(0,i._X)(o),(0,r.useCallback)((e=>{if(!o)return;const a=new URLSearchParams(n.location.search);a.set(o,e),n.replace({...n.location,search:a.toString()})}),[o,n])]}function f(e){const{defaultValue:a,queryString:t=!1,groupId:n}=e,o=p(e),[l,i]=(0,r.useState)((()=>function(e){let{defaultValue:a,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!d({value:a,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:a,tabValues:o}))),[s,u]=m({queryString:t,groupId:n}),[f,g]=function(e){let{groupId:a}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(a),[n,o]=(0,c.Nk)(t);return[n,(0,r.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:n}),b=(()=>{const e=s??f;return d({value:e,tabValues:o})?e:null})();(0,r.useLayoutEffect)((()=>{b&&i(b)}),[b]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!d({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),g(e)}),[u,g,o]),tabValues:o}}var g=t(2466),b=t(2389);const y="tabList__CuJ",v="tabItem_LNqP";function k(e){let{className:a,block:t,selectedValue:l,selectValue:i,tabValues:s}=e;const c=[],{blockElementScrollPositionUntilNextRender:u}=(0,g.o5)(),p=e=>{const a=e.currentTarget,t=c.indexOf(a),n=s[t].value;n!==l&&(u(a),i(n))},d=e=>{let a=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;a=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;a=c[t]??c[c.length-1];break}}a?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},a)},s.map((e=>{let{value:a,label:t,attributes:i}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:l===a?0:-1,"aria-selected":l===a,key:a,ref:e=>c.push(e),onKeyDown:d,onClick:p},i,{className:(0,o.Z)("tabs__item",v,i?.className,{"tabs__item--active":l===a})}),t??a)})))}function h(e){let{lazy:a,children:t,selectedValue:n}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(a){const e=o.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},o.map(((e,a)=>(0,r.cloneElement)(e,{key:a,hidden:e.props.value!==n}))))}function C(e){const a=f(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",y)},r.createElement(k,(0,n.Z)({},e,a)),r.createElement(h,(0,n.Z)({},e,a)))}function N(e){const a=(0,b.Z)();return r.createElement(C,(0,n.Z)({key:String(a)},e))}},1284:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>u,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>p});var n=t(7462),r=(t(7294),t(3905)),o=t(4866),l=t(5162);const i={sidebar_position:1},s="Registrar y validar clientes",c={unversionedId:"guides/customers",id:"guides/customers",title:"Registrar y validar clientes",description:"Registrar a tu clientes en Facturapi te permite validar sus datos fiscales y",source:"@site/docs/guides/customers.mdx",sourceDirName:"guides",slug:"/guides/customers",permalink:"/docs/guides/customers",draft:!1,editUrl:"https://github.com/facturapi/facturapi-docs/edit/main/website/docs/guides/customers.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Autenticaci\xf3n",permalink:"/docs/getting-started/authenticate"},next:{title:"Productos",permalink:"/docs/guides/products"}},u={},p=[{value:"C\xf3mo registrar un cliente",id:"c\xf3mo-registrar-un-cliente",level:2},{value:"Clientes nacionales",id:"clientes-nacionales",level:3},{value:"Clientes extranjeros",id:"clientes-extranjeros",level:3}],d={toc:p};function m(e){let{components:a,...t}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"registrar-y-validar-clientes"},"Registrar y validar clientes"),(0,r.kt)("p",null,"Registrar a tu clientes en Facturapi te permite validar sus datos fiscales y\nalmacenarlos para futuras facturas."),(0,r.kt)("p",null,"Este paso es ",(0,r.kt)("strong",{parentName:"p"},"opcional"),", ya que para crear comprobantes no es necesario haber\nregistrado previamente a tu cliente, sin embargo, es algo que te recomendamos\nhacer siempre que te sea posible."),(0,r.kt)("p",null,"Una vez registrado tu cliente, podr\xe1s guardar el ",(0,r.kt)("inlineCode",{parentName:"p"},"id")," del objeto creado y usarlo para\nfacturar al mismo receptor sin volver a enviar todos sus datos fiscales."),(0,r.kt)("p",null,"Al crear una factura, puedes incluir la informaci\xf3n del receptor de 2 maneras\ndistintas:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"En el campo ",(0,r.kt)("inlineCode",{parentName:"li"},"customer"),", enviando un objeto con los datos fiscales del\ncliente."),(0,r.kt)("li",{parentName:"ol"},"En el campo ",(0,r.kt)("inlineCode",{parentName:"li"},"customer"),", enviando el ",(0,r.kt)("inlineCode",{parentName:"li"},"id")," de un cliente previamente\nregistrado.")),(0,r.kt)("p",null,"Ambas opciones son v\xe1lidas y te recomendamos usar la que mejor se adapte a tu\ncaso de uso."),(0,r.kt)("h2",{id:"c\xf3mo-registrar-un-cliente"},"C\xf3mo registrar un cliente"),(0,r.kt)("p",null,"En Facturapi, la forma de registrar los datos fiscales de clientes nacionales y\nextranjeros no es muy diferente entre s\xed, pero vale la pena analizarlos por\nseparado, ya que s\xed es diferente de como lo indica el SAT en su est\xe1ndar t\xe9cnico."),(0,r.kt)("h3",{id:"clientes-nacionales"},"Clientes nacionales"),(0,r.kt)("p",null,"El siguiente ejemplo muestra c\xf3mo registrar a un cliente nacional."),(0,r.kt)("p",null,"Para conocer qu\xe9 otros datos puedes incluir, consulta la\n",(0,r.kt)("a",{parentName:"p",href:"/api/#operation/createCustomer"},"referencia del m\xe9todo Crear Cliente"),"."),(0,r.kt)(o.Z,{groupId:"codeExamples",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"js",label:"Node.js",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const Facturapi = require('facturapi');\nconst facturapi = new Facturapi('sk_test_API_KEY');\n\nconst customer = await facturapi.customers.create({\n  legal_name: 'Dunder Mifflin', // Nombre o raz\xf3n social\n  tax_id: 'ABC101010111', // RFC\n  tax_system: '601', // Regimen fiscal\n  email: 'email@example.com', // Correo para env\xedo (opcional).\n  address: {\n    zip: '85900', // C\xf3digo postal\n  }\n});\n"))),(0,r.kt)(l.Z,{value:"cs",label:"C#",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'var facturapi = new FacturapiClient("sk_test_API_KEY");\n\nvar customer = await facturapi.Customer.CreateAsync(new Dictionary<string, object>\n{\n  ["legal_name"] = "Dunder Mifflin", // Nombre o raz\xf3n social\n  ["tax_id"] = "ABC101010111", // RFC\n  ["tax_system"] = "601", // Regimen fiscal\n  ["email"] = "email@example.com", // Correo para env\xedo (opcional).\n  ["address"] = new Dictionary<string, object>\n  {\n    ["zip"] = "85900", // C\xf3digo postal\n  }\n});\n'))),(0,r.kt)(l.Z,{value:"php",label:"PHP",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},'$facturapi = new FacturapiClient("sk_test_API_KEY");\n\n$customer = $facturapi->Customers->create([\n  "legal_name" => "Dunder Mifflin", // Nombre o raz\xf3n social\n  "tax_id" => "ABC101010111", // RFC\n  "tax_system" => "601", // Regimen fiscal\n  "email" => "walterwhite@gmail.com", // Correo para env\xedo (opcional).\n  "address" => [\n    "zip" => "85900", // C\xf3digo postal\n  ]\n]);\n'))),(0,r.kt)(l.Z,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl https://www.facturapi.io/v1/customers \\\n  -H "Authorization: Bearer sk_test_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n      "legal_name": "Dunder Mifflin", // Nombre o raz\xf3n social\n      "email": "email@example.com", // Correo para env\xedo (opcional).\n      "tax_id": "ABC101010111", // RFC\n      "tax_system": "601", // R\xe9gimen fiscal\n      "address": {\n        "zip": "85900" // C\xf3digo postal\n      }\n    }\'\n')))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Respuesta: Objeto Customer"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "590ce6c56d04f840aa8438af",\n  "created_at": "2017-05-05T20:55:33.468Z",\n  "organization": "622a33e6f0175a00e01a8e80",\n  "livemode": false,\n  "legal_name": "Dunder Mifflin",\n  "tax_id": "ABC101010111",\n  "tax_system": "601",\n  "email": "email@example.com",\n  "phone": 6474010101,\n  "address": {\n    "street": null,\n    "exterior": null,\n    "interior": null,\n    "neighborhood": null,\n    "city": "Huatabampo",\n    "municipality": "Huatabampo",\n    "zip": 86500,\n    "state": "Sonora",\n    "country": "MEX"\n  }\n}\n'))),(0,r.kt)("h3",{id:"clientes-extranjeros"},"Clientes extranjeros"),(0,r.kt)("p",null,"Para registrar un cliente extranjero es necesario especificar el pa\xeds de\norigen, enviando el ",(0,r.kt)("a",{parentName:"p",href:"https://es.wikipedia.org/wiki/ISO_3166-1_alfa-3"},"c\xf3digo ISO del pa\xeds"),"\nde origen por medio del campo ",(0,r.kt)("inlineCode",{parentName:"p"},"country"),"."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"No necesitas usar el RFC gen\xe9rico para extranjeros del SAT. Nosotros lo\npondremos por ti donde haga falta, siempre y cuando env\xedes un valor distinto\nde ",(0,r.kt)("inlineCode",{parentName:"p"},'"MEX"')," para el campo ",(0,r.kt)("inlineCode",{parentName:"p"},"country"),".")),(0,r.kt)("p",null,"Para conocer qu\xe9 otros datos puedes incluir, consulta la\n",(0,r.kt)("a",{parentName:"p",href:"/api/#operation/createCustomer"},"referencia completa del m\xe9todo Crear Cliente"),"."),(0,r.kt)(o.Z,{groupId:"codeExamples",mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"js",label:"Node.js",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const Facturapi = require('facturapi');\nconst facturapi = new Facturapi('sk_test_API_KEY');\n\nconst customer = await facturapi.customers.create({\n  legal_name: 'V\xe4ttenfall, A.B.', // Nombre o raz\xf3n social\n  tax_id: '198912171234', // N\xfam. de reg. id. trib. (opcional)\n  email: 'email@example.com', // Correo para env\xedo (opcional).\n  address: {\n    country: \"SWE\", // C\xf3digo ISO del pa\xeds.\n    zip: \"17123\", // C\xf3digo postal\n    city: \"Stockholm\" // Ciudad (opcional).\n  }\n});\n"))),(0,r.kt)(l.Z,{value:"cs",label:"C#",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'var facturapi = new FacturapiClient("sk_test_API_KEY");\n\nvar customer = await facturapi.Customer.CreateAsync(new Dictionary<string, object>\n{\n  ["legal_name"] = "V\xe4ttenfall, A.B.", // Nombre o raz\xf3n social\n  ["tax_id"] = "198912171234", // // N\xfam. de reg. id. trib. (opcional)\n  ["email"] = "email@example.com", // Correo para env\xedo (opcional).\n  ["address"] = new Dictionary<string, object>\n  {\n    ["country"] = "SWE", // C\xf3digo ISO del pa\xeds.\n    ["zip"] = "17123", // C\xf3digo postal\n    ["city"] = "Stockholm" // Ciudad (opcional).\n  }\n});\n'))),(0,r.kt)(l.Z,{value:"php",label:"PHP",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-php"},'$facturapi = new FacturapiClient("sk_test_API_KEY");\n$customer = $facturapi->Customers->create([\n  "legal_name" => "V\xe4ttenfall, A.B.", // Nombre o raz\xf3n social\n  "tax_id" => "198912171234", // N\xfam. de reg. id. trib. (opcional)\n  "email" => "email@example.com", // Correo para env\xedo (opcional).\n  "address" => [\n    "country" => "SWE", // C\xf3digo ISO del pa\xeds.\n    "zip" => "17123", // C\xf3digo postal\n    "city" => "Stockholm" // Ciudad (opcional).\n  ]\n]);\n'))),(0,r.kt)(l.Z,{value:"curl",label:"cURL",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl https://www.facturapi.io/v1/customers \\\n  -H "Authorization: Bearer sk_test_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n      "legal_name": "V\xe4ttenfall, A.B.", // Nombre o raz\xf3n social\n      "tax_id": "198912171234", // N\xfam. de reg. id. trib. (opcional)\n      "email": "email@example.com", // Correo para env\xedo (opcional).\n      "address": {\n        "country": "SWE", // C\xf3digo ISO del pa\xeds.\n        "zip": "17123", // C\xf3digo postal\n        "city": "Stockholm" // Ciudad (opcional).\n      }\n    }\'\n')))),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Respuesta: Objeto Customer"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "62714bc2d1bfa410df1d98eb",\n  "created_at": "2022-05-03T15:35:30.034Z",\n  "organization": "622a33e6f0175a00e01a8e80",\n  "livemode": false,\n  "legal_name": "V\xe4ttenfall, A.B.",\n  "tax_id": "198912171234",\n  "email": "email@example.com",\n  "address": {\n    "country": "SWE",\n    "zip": "17123",\n    "city": "Stockholm"\n  },\n}\n'))),(0,r.kt)("h2",{id:""}))}m.isMDXComponent=!0}}]);